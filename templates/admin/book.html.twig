{% extends 'admin/_template/layout.html.twig' %}
{% block content %}
 {% for message in app.flashes('success') %}
  <div class="intro-y box p-5 mt-5 rounded-md flex items-center px-5 py-4 mb-2 bg-theme-9 text-white flash_message">
   <i data-feather="alert-circle" class="w-6 h-6 mr-2"></i>{{ message }} <i data-feather="x"
                                                                            class="w-4 dismiss_message h-4 ml-auto"></i>
  </div>
 {% endfor %}
 {% for message in app.flashes('error') %}
  <div class="intro-y box p-5 mt-5 rounded-md flex items-center px-5 py-4 mb-2 bg-theme-6 text-white flash_message">
   <i data-feather="alert-circle" class="w-6 h-6 mr-2"></i>{{ message }} <i data-feather="x"
                                                                            class="w-4 dismiss_message h-4 ml-auto"></i>
  </div>
 {% endfor %}
 <div class="col-span-12 mt-6 lg:col-span-4">
  <div class="intro-y pr-1">
   <div class="grid grid-cols-12 gap-5  p-2">
    <div class="col-span-12 sm:col-span-12 md:col-span-4  xs:col-span-12 xl:col-span-4 xxl:col-span-2 intro-y box mt-2 h-12">
     <div class="grid grid-cols-12 gap-5 pos__tabs nav-tabs justify-center flex">
      <div class="col-span-12 flex  items-center">
       <a data-toggle="tab" data-target="#class" href="{{ path('admin_index') }}"
          class="flex-1 py-2 mt-2 flat-md text-center active navigation">New Books</a>
      </div>
     </div>
    </div>
    <div class="col-span-12 sm:col-span-12 md:col-span-4  xs:col-span-12 xl:col-span-4 xxl:col-span-3 intro-y box mt-2 h-12">
     <div class="grid grid-cols-12 gap-5 pos__tabs nav-tabs justify-center flex">
      <div class="col-span-12 flex  items-center">
         <a href="{{ path('admin_book_form') }}" class="button w-24 ml-auto flex bg-gray-200 text-gray-600 dark:bg-dark-1 dark:text-gray-300" >Add New</a>
      
      </div>

     </div>
    </div>

    <div class="col-span-12 sm:col-span-12 md:col-span-4  xs:col-span-12 xl:col-span-4 xxl:col-span-3 intro-y box mt-2 h-12">
     <div class="grid grid-cols-12 gap-5 pos__tabs nav-tabs justify-center flex">
      <div class="col-span-12 flex  items-center">
       <a data-toggle="tab" data-target="#class" href="{{ path('admin_index') }}"
          class="flex-1 py-2 mt-2 flat-md text-center navigation">Overdue Return</a>
      </div>

     </div>
    </div>
    <div class="col-span-12 sm:col-span-12 md:col-span-4  xs:col-span-12 xl:col-span-4 xxl:col-span-3 intro-y box mt-2 h-12">
     <div class="grid grid-cols-12 gap-5 pos__tabs nav-tabs justify-center flex">
      <div class="col-span-12 flex  items-center">
       <a data-toggle="tab" data-target="#class" href="{{ path('admin_index') }}"
          class="flex-1 py-2 mt-2 flat-md text-center navigation">Currently Available</a>
      </div>

     </div>
    </div>


   </div>
  </div>


      <div class="intro-y block sm:flex items-center h-10">
         <h2 class="text-lg font-medium truncate mr-5">
            Books Listing
         </h2>   
         <a data-toggle="tab" data-target="#class" href="{{ path('admin_book_form') }}"class="button w-24 ml-auto button w-24 mr-1 mb-2 bg-theme-1 text-white">New Books</a>
      </div>

  <div class="tab-content">
   <div class="tab-content__pane active" id="classes">
    {% for author, book_records in books %}
     <div class="mt-3 mb-2">
      <h4 class="text-xl text-gray-700 dark:text-gray-600 font-medium leading-none mt-3">
       {{ author|upper }}
      </h4>
     </div>
     {% for  key,book in book_records %}
      {% set color = 'text-theme-9' %}
      <div class="intro-y mt-1">
       <div class="box grid grid-cols-8  gap-1 mt-5 toggle_details zoom-in">
        <div class="ml-1  ml-auto mr-auto pl-3 py-6 mt-2">
         <div class="font-medium"> # {{ book.id }}
         </div>
        </div>
        <div class="items-center ml-auto mr-auto  ml-1    py-6 mt-2  ">
         - {{ book.title }}
        </div>
        <div class="items-center ml-auto mr-auto  ml-3    pl-1 py-6 mt-2  "> $ {{ book.price }} </div>
        <div class="items-center ml-auto mr-auto  ml-3    pl-1 py-6 mt-2  "> {{ book.publishedDate | date("Y-m-d") }} </div>
        <div class="items-center ml-auto mr-auto  ml-1   pl-2 py-6 mt-3   {{ color }}">
         22
        </div>
        <div class="items-center  ml-auto mr-auto  pl-3 py-4 mt-3     ">
         <div class="pos-dropdown dropdown ml-auto sm:ml-0">
          <button class="dropdown-toggle button px-2 box text-gray-900 dark:text-gray-300">
           <span class="w-5 h-5 flex items-center justify-center"> <i class="w-4 h-4" data-feather="more-horizontal"></i> </span>
          </button>
          <div class="pos-dropdown__dropdown-box dropdown-box">
           <div class="dropdown-box__content box dark:bg-dark-1 p-2">
            <a href="{{ path('admin_index') }}"
               class="flex items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md navigation">
             <i data-feather="edit" class="w-4 h-4 mr-2"></i> <span
                     class="check-square">Edit</span> </a>
            <a href="#"
               data-has-related="true"
               data-item-type="EventOccurrence"
               data-item-id="{{ 12 }}"
               class="flex items-center  delete-item text-theme-6 block p-2  text-theme-6 transition duration-300 ease-in-out bg-white dark:bg-dark-2 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md">
             <i data-feather="trash-2" class="w-4 h-4 mr-2"></i> <span
                     class="truncate">Delete</span> </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     {% endfor %}
    {% endfor %}
    {#                {{ include('/admin/partials/pagination.html.twig') }}#}
   </div>
  </div>
 </div>
{% endblock %}
{% block javascript %}
<script type="text/javascript">
 $(document).ready(function () {
 $(".detail_record").hide();

 $(".toggle_details").click(function (e) {
 if (e.target.tagName.toLowerCase() == 'button' || e.target.tagName.toLowerCase() == 'svg') {
 $(".detail_record").hide();
 return;
}
 $(".toggle_details").not(this).siblings().hide();
 $(this).siblings(".detail_record").toggle();
});
});
</script>
{% endblock %}